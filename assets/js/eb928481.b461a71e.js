"use strict";(globalThis.webpackChunkresearch=globalThis.webpackChunkresearch||[]).push([[253],{3260:(e,t,n)=>{n.d(t,{A:()=>j});var i=n(6540),o=n(9410),r=n(223),s=n(8185),a=n(7673),l=n(8193),d=n(4848);const p=e=>e>0?"green":e<0?"red":"inherit",c="#deb887",x=(0,r.Wp)({apiKey:"AIzaSyAUDHCT_dtMHQFPcUh6-gFSIFXT6dR9MVg",authDomain:"my-tools-1228.firebaseapp.com",projectId:"my-tools-1228",storageBucket:"my-tools-1228.firebasestorage.app",messagingSenderId:"511787460330",appId:"1:511787460330:web:2896507029051b666e5993",measurementId:"G-WFF13TV61G"}),m=(0,s.aU)(x),u=(0,s.H9)(m,"trade_journals","my_only_log");let h;l.A.canUseDOM&&(h=(0,a.P5)(x));const g=e=>null==e||isNaN(e)?"0":Math.round(e).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),y=e=>null==e||isNaN(e)?"0.0":Number(e).toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1}),f=e=>{if(null==e||isNaN(e))return"0";return Math.round(e).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})},b=e=>{const t=new Date;let n=null;switch(t.setHours(0,0,0,0),e){case"WEEK":n=new Date(t.setDate(t.getDate()-t.getDay()));break;case"MONTH":n=new Date(t.getFullYear(),t.getMonth(),1);break;case"HALFYEAR":n=new Date(t.setMonth(t.getMonth()-6));break;case"YEAR":n=new Date(t.setFullYear(t.getFullYear()-1));break;default:return null}return n};const j=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)({id:"",code:"",name:"",direction:"BUY",quantity:"",price:"",date:(new Date).toISOString().substring(0,10),reason:""}),[a,l]=(0,i.useState)(null),[x,m]=(0,i.useState)("ALL"),[h,j]=(0,i.useState)("ALL"),[v,w]=(0,i.useState)("");(0,i.useEffect)(()=>{const e=(0,s.aQ)(u,e=>{if(e.exists()){const n=e.data().entries||[];t(n.sort((e,t)=>(t.timeId||0)-(e.timeId||0))),console.log("\u6578\u64da\u5df2\u5f9e Firestore \u52a0\u8f09\u4e26\u5373\u6642\u540c\u6b65\u3002")}else console.log("Firestore \u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u5f9e\u7a7a\u65e5\u8a8c\u958b\u59cb\u3002"),t([])},e=>{console.error("Firestore \u76e3\u807d\u5931\u6557:",e)});return()=>e()},[]);const C=async e=>{try{const n=e.sort((e,t)=>{const n=new Date(e.date),i=new Date(t.date)-n;return 0!==i?i:(t.timeId||0)-(e.timeId||0)});t(n),await(0,s.BN)(u,{entries:e}),console.log("\u6578\u64da\u5df2\u6210\u529f\u5beb\u5165 Firestore\u3002")}catch(n){console.error("\u5beb\u5165 Firestore \u5931\u6557:",n),alert("\u8b66\u544a\uff1a\u6578\u64da\u5beb\u5165\u96f2\u7aef\u5931\u6557\uff0c\u8acb\u6aa2\u67e5\u7db2\u8def\u9023\u7dda\u3002")}},N=(0,i.useMemo)(()=>{let t=e;const n=b(h);if(n){const e=n.getTime();t=t.filter(t=>new Date(t.date).getTime()>=e)}const i=v.trim().toLowerCase();return i&&(t=t.filter(e=>e.code.toLowerCase().includes(i)||e.name.toLowerCase().includes(i))),t},[e,h,v]),S=(0,i.useMemo)(()=>((e,t="ALL")=>{if(!e||0===e.length)return{byStock:[],totalRealizedPnl:0,winRate:0,totalClosedTrades:0};const n=[...e].sort((e,t)=>{const n=new Date(e.date)-new Date(t.date);return 0!==n?n:(e.timeId||0)-(t.timeId||0)}),i={},o=1e-6;n.forEach(e=>{const t=e.code;i[t]||(i[t]={name:e.name,positionQty:0,positionCost:0,trades:[]});const n=i[t],r=Number(e.quantity),s=Number(e.price),a=new Date(e.date).getTime();if(isNaN(r)||r<=o||isNaN(s)||s<.5)return;const l=(e,t,i,r)=>{let s=0;const l=Number(e),d=Number(t),p=Number(i);s=r?p*l-d*l:d*l-p*l,Math.abs(s)>o&&n.trades.push({pnl:s,closeTime:a})},d=e=>Math.abs(e)<o,p=()=>{n.positionQty=0,n.positionCost=0};if("BUY"===e.direction)if(n.positionQty<0){const e=Math.abs(n.positionQty),t=e>o?Number(n.positionCost)/e:0,i=Math.min(r,e),a=r-i;if(i>o){l(i,t,s,!1);const e=t*i;n.positionCost=Number(n.positionCost)-e,n.positionQty=Number(n.positionQty)+i}d(n.positionQty)&&a>o?(n.positionQty=a,n.positionCost=s*a):d(n.positionQty)&&p()}else n.positionCost=Number(n.positionCost)+s*r,n.positionQty=Number(n.positionQty)+r;if("SELL"===e.direction)if(n.positionQty>0){const e=n.positionQty,t=e>o?Number(n.positionCost)/e:0,i=Math.min(r,e),a=r-i;if(i>o){l(i,t,s,!0);const e=t*i;n.positionCost=Number(n.positionCost)-e,n.positionQty=Number(n.positionQty)-i}d(n.positionQty)&&a>o?(n.positionQty=-a,n.positionCost=s*a):d(n.positionQty)&&p()}else n.positionCost=Number(n.positionCost)+s*r,n.positionQty=Number(n.positionQty)-r});let r=null;if(t&&"ALL"!==t){const e=b(t);e&&(r=e.getTime())}const s=[];let a=0,l=0,d=0;Object.keys(i).forEach(e=>{const t=i[e],n=t.positionQty,p=Math.abs(n),c=p>o?Number(t.positionCost)/p:0;let x=0;t.trades.forEach(e=>{(!r||e.closeTime>=r)&&(x+=e.pnl,a+=e.pnl,e.pnl>0?(d++,l++):e.pnl<0&&l++)}),s.push({code:e,name:t.name,netQuantity:Math.round(n),avgCost:c,realizedPnl:x})});const p=l>0?(d/l*100).toFixed(2):0;return{byStock:s,totalRealizedPnl:Math.round(a),winRate:p,totalClosedTrades:l}})(e,x),[e,x]),L=e=>{const{name:t,value:n}=e.target;r(e=>({...e,[t]:n}))},k=e=>{r(t=>({...t,direction:e}))};return(0,d.jsxs)("div",{className:"responsive-container",style:{maxWidth:"1000px",margin:"20px auto",padding:"20px"},children:[(0,d.jsx)("style",{jsx:"true",children:'\n\n        /* 1. \u78ba\u4fdd Box Sizing \u6b63\u5e38\u5de5\u4f5c */\n        * {\n            box-sizing: border-box;\n        }\n        /* \u96b1\u85cf\u6578\u5b57\u8f38\u5165\u6846\u7684\u8abf\u6574\u7bad\u982d */\n        input[type="number"]::-webkit-outer-spin-button,\n        input[type="number"]::-webkit-inner-spin-button {\n            -webkit-appearance: none;\n            margin: 0;\n        }\n        input[type="number"] {\n            -moz-appearance: textfield; \n        }\n        ::placeholder {\n            color: #575a5bff;\n            opacity: 1; \n            font-weight: 600;\n        }\n        :-ms-input-placeholder, ::-ms-input-placeholder {\n            color: #575a5bff;\n            font-weight: 600;\n        }\n        \n        /* \u624b\u6a5f\u7248\u97ff\u61c9\u5f0f\u8a2d\u8a08 (\u6700\u5927\u5bec\u5ea6 768px) */\n        @media (max-width: 768px) {\n\n            body, html, .responsive-container {\n                overflow-x: hidden !important;\n                width: 100% !important;\n            }\n            /* 1. \u5916\u5c64\u5bb9\u5668\u8abf\u6574\uff1a\u6d88\u9664\u5de6\u53f3\u908a\u8ddd\u548c padding \u78ba\u4fdd\u4f54\u6eff\u8996\u53e3 */\n            .responsive-container {\n                padding: 10px 0 !important;\n                margin: 0 !important; \n                max-width: 80% !important;\n            }\n\n            /* 2. \u4e3b\u8f38\u5165\u6b04\u4f4d (\u539f\u672c\u662f\u4e94\u6b04\u4e26\u6392) */\n            .form-input-row,\n            form > div:nth-child(1) { \n                flex-direction: column !important;\n                gap: 8px !important;\n            }\n            form > div:nth-child(1) input {\n                flex: 1 1 100% !important;\n            }\n\n            /* 3. \u5361\u7247\u5340\u584a (\u5100\u8868\u677f\u7e3d\u9ad4\u6307\u6a19) */\n            .responsive-flex-row {\n                flex-direction: column !important;\n                gap: 15px !important;\n            }\n            \n            /* 4. \u4ea4\u6613\u8868\u55ae\u4e2d\u7684\u65b9\u5411\u6309\u9215\u548c\u5099\u8a3b */\n            form > div:nth-child(2) { \n                flex-direction: column !important;\n                gap: 15px !important;\n            }\n            form > div:nth-child(2) > div:first-child {\n                width: 100% !important; \n                flex-direction: row !important; \n                justify-content: space-between;\n            }\n            form > div:nth-child(2) button {\n                width: 48% !important;\n            }\n            \n            /* 5. \u6b77\u53f2\u8a18\u9304\u7be9\u9078\u5668 (\u6a19\u984c/\u641c\u5c0b/\u4e0b\u62c9\u9078\u55ae) */\n            .responsive-filter-row {\n                flex-direction: column !important;\n                align-items: stretch !important;\n                padding-left: 10px; \n                padding-right: 10px;\n            }\n\n\n            .responsive-filter-row-controls {\n                flex-direction: column !important;\n                gap: 10px !important;\n                width: 100% !important;\n            }\n            .responsive-filter-row-controls input,\n            .responsive-filter-row-controls select {\n                width: 100% !important;\n                min-width: 100% !important;\n            }\n\n            /* 6. \u6b77\u53f2\u8a18\u9304\u5217\u8868\u9805\u76ee\u4e2d\u7684\u5167\u5bb9\u548c\u6309\u9215 */\n            .history-list-item-header {\n                flex-direction: column;\n                align-items: flex-start !important; /* \u78ba\u4fdd\u5de6\u5c0d\u9f4a */\n            }\n            .history-list-item-header > div:last-child {\n                margin-top: 5px;\n            }\n            .history-details { \n                /* \u78ba\u4fdd\u6574\u500b\u7d30\u7bc0\u5340\u584a\u53ef\u4ee5\u5bb9\u7d0d\u5167\u5bb9\uff0c\u4e26\u555f\u7528\u5167\u90e8 Flex */\n                width: 100%;\n                display: flex;\n                flex-wrap: wrap; /* \u5141\u8a31\u5305\u88f9 */\n            }\n            .history-details strong {\n                /* \u80a1\u7968\u8cc7\u8a0a\uff0c\u8b93\u5b83\u5728\u540c\u4e00\u884c */\n                display: inline; \n            }\n            .history-details .trade-separator {\n                display: block !important; /* \u8b93\u5206\u9694\u7b26\u865f\u7368\u4f54\u4e00\u884c */\n                height: 0; /* \u96b1\u85cf\u9ad8\u5ea6 */\n                visibility: hidden; /* \u96b1\u85cf\u5167\u5bb9 */\n                margin: 0; \n                padding: 0;\n            }\n            .history-details .trade-action {\n                display: block !important; /* \u5f37\u5236\u4ea4\u6613\u64cd\u4f5c\u5f9e\u65b0\u7684\u4e00\u884c\u958b\u59cb */\n                width: 100%; /* \u78ba\u4fdd\u4f54\u6eff\u5bec\u5ea6 */\n                margin-top: -5px; /* \u62c9\u8fd1\u8207\u4e0a\u65b9\u80a1\u7968\u8cc7\u8a0a\u7684\u8ddd\u96e2 */\n            }\n            form > div:nth-child(3) {   /*\u5132\u5b58\u6309\u9215*/\n                 flex-direction: row !important; /* \u4fdd\u6301\u5de6\u53f3\u6392\u5217 */\n                 justify-content: flex-start;\n                 \n            }\n            form > div:nth-child(3) button {\n                width: 48% !important; /* \u8b93\u5132\u5b58/\u53d6\u6d88\u6309\u9215\u5e73\u5206\u5bec\u5ea6 */\n                padding: 10px !important; /* \u7d71\u4e00 padding */\n            }  \n        }\n      '}),(0,d.jsx)("h2",{children:a?"\u7de8\u8f2f\u4ea4\u6613\u8a18\u9304":"\u4ea4\u6613\u65e5\u8a8c\u8a18\u9304"}),(0,d.jsxs)("form",{onSubmit:t=>{t.preventDefault();const i=Number(n.quantity),s=Number(n.price);if(!n.code||!n.name||i<1||s<.5)return void alert("\u8acb\u586b\u5beb\u80a1\u7968\u540d\u7a31\u3001\u4ee3\u865f\uff0c\u4e26\u78ba\u4fdd\u6578\u91cf >= 1 \u4e14\u50f9\u683c >= 0.5\uff01");const d={...n,quantity:i,price:s};let p;if(a)p=e.map(e=>e.id===a?{...d,id:a}:e),l(null);else{p=[{...d,id:(0,o.A)(),timeId:Date.now()},...e]}C(p),r({id:"",code:"",name:"",direction:"BUY",quantity:"",price:"",date:(new Date).toISOString().substring(0,10),reason:""})},style:{marginBottom:"30px",border:`1px solid ${c}`,borderRadius:"5px",padding:"15px"},children:[(0,d.jsxs)("div",{className:"form-input-row",style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[(0,d.jsx)("input",{name:"name",value:n.name,onChange:L,placeholder:"\u80a1\u7968\u540d\u7a31 (e.g., \u53f0\u7a4d\u96fb)",required:!0,style:{flex:1.5,padding:"8px",border:"1px solid #a4a4a4ff"}}),(0,d.jsx)("input",{name:"code",value:n.code,onChange:L,placeholder:"\u4ee3\u865f (e.g., 2330)",required:!0,style:{flex:1,padding:"8px",border:"1px solid #a4a4a4ff"}}),(0,d.jsx)("input",{name:"quantity",type:"number",value:n.quantity,onChange:L,placeholder:"\u6578\u91cf (\u80a1)",required:!0,min:"1",step:"1",style:{flex:1,padding:"8px",border:"1px solid #a4a4a4ff"}}),(0,d.jsx)("input",{name:"price",type:"number",step:"0.5",value:n.price,onChange:L,placeholder:"\u50f9\u683c",required:!0,min:"0.5",style:{flex:1,padding:"8px",border:"1px solid #a4a4a4ff"}}),(0,d.jsx)("input",{name:"date",type:"date",value:n.date,onChange:L,required:!0,style:{flex:1,padding:"8px",border:"1px solid #a4a4a4ff"}})]}),(0,d.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[(0,d.jsx)("button",{type:"button",onClick:()=>k("BUY"),style:{padding:"10px",backgroundColor:"BUY"===n.direction?"var(--ifm-color-primary)":"white",color:"BUY"===n.direction?"white":"var(--ifm-color-primary)",border:"1px solid var(--ifm-color-primary)",cursor:"pointer",borderRadius:"3px",width:"120px",fontWeight:"bold",fontSize:"13px"},children:"\u8cb7\u5165 (BUY)"}),(0,d.jsx)("button",{type:"button",onClick:()=>k("SELL"),style:{padding:"10px",backgroundColor:"SELL"===n.direction?"var(--ifm-color-primary)":"white",color:"SELL"===n.direction?"white":"var(--ifm-color-primary)",border:"1px solid var(--ifm-color-primary)",cursor:"pointer",borderRadius:"3px",width:"120px",fontWeight:"bold",fontSize:"13px"},children:"\u8ce3\u51fa (SELL)"})]}),(0,d.jsx)("textarea",{name:"reason",value:n.reason,onChange:L,placeholder:"\u8f38\u5165\u4ea4\u6613\u7406\u7531\u6216\u7b56\u7565",rows:"6",style:{flexGrow:1,resize:"vertical",padding:"8px",border:"1px solid #a4a4a4ff",minHeight:"100px"}})]}),(0,d.jsxs)("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,d.jsx)("button",{type:"submit",style:{padding:"10px 20px",backgroundColor:"var(--ifm-color-primary)",color:"white",border:"1px solid var(--ifm-color-primary)",cursor:"pointer",borderRadius:"3px",width:"120px",fontWeight:"bold",fontSize:"13px"},children:a?"\u66f4\u65b0\u8a18\u9304":"\u5132\u5b58\u4ea4\u6613\u8a18\u9304"}),a&&(0,d.jsx)("button",{type:"button",onClick:()=>l(null),style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"1px solid #6c757d",cursor:"pointer",borderRadius:"3px",width:"120px",fontWeight:"bold",fontSize:"13px"},children:"\u53d6\u6d88\u7de8\u8f2f"})]})]}),(()=>{const{byStock:e,totalRealizedPnl:t,winRate:n}=S,i=[...e].sort((e,t)=>{const n=Math.abs(e.netQuantity),i=Math.abs(t.netQuantity);return n!==i?i-n:e.code.localeCompare(t.code)}),o={color:p(t),fontWeight:"bold"},r="ALL"===x?"\u5168\u90e8\u8a18\u9304":"\u7be9\u9078\u671f\u9593";return(0,d.jsxs)("div",{style:{marginTop:"30px",border:`1px solid ${c}`,borderRadius:"5px",padding:"15px",backgroundColor:"#fff"},children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,d.jsxs)("h3",{children:["\u5100\u8868\u677f\u8207\u640d\u76ca\u6458\u8981 (",r,")"]}),(0,d.jsx)("div",{children:(0,d.jsxs)("select",{value:x,onChange:e=>m(e.target.value),style:{padding:"8px",border:"1px solid #ccc"},children:[(0,d.jsx)("option",{value:"ALL",children:"\u5168\u90e8"}),(0,d.jsx)("option",{value:"WEEK",children:"\u7576\u9031"}),(0,d.jsx)("option",{value:"MONTH",children:"\u7576\u6708"}),(0,d.jsx)("option",{value:"HALFYEAR",children:"\u8fd1\u534a\u5e74"}),(0,d.jsx)("option",{value:"YEAR",children:"\u8fd1\u4e00\u5e74"})]})})]}),(0,d.jsxs)("div",{className:"responsive-flex-row",style:{display:"flex",gap:"15px",marginBottom:"15px"},children:[(0,d.jsxs)("div",{style:{flex:1,padding:"12px",border:"1px solid #ccc",borderRadius:"5px",backgroundColor:"#f9f9f9c5"},children:[(0,d.jsx)("h4",{style:{margin:"0 0 5px 0"},children:"\u7e3d\u5df2\u5be6\u73fe\u640d\u76ca"}),(0,d.jsx)("p",{style:{margin:0,fontSize:"1.5em",...o},children:f(t)})]}),(0,d.jsxs)("div",{style:{flex:1,padding:"15px",border:"1px solid #ccc",borderRadius:"5px",backgroundColor:"#f9f9f9c5"},children:[(0,d.jsx)("h4",{style:{margin:"0 0 5px 0"},children:"\u4ea4\u6613\u52dd\u7387"}),(0,d.jsxs)("p",{style:{margin:0,fontSize:"1.5em"},children:[n,"%"]})]})]}),(0,d.jsx)("h4",{style:{marginTop:"20px"},children:"\u500b\u80a1\u640d\u76ca\u8207\u6301\u5009 (\u6de8\u6301\u5009\u8207\u6210\u672c\u70ba\u5168\u90e8\u6b77\u53f2\uff0c\u640d\u76ca\u70ba\u7be9\u9078\u671f\u9593)"}),(0,d.jsxs)("div",{style:{overflowX:"auto"},children:[" ",(0,d.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left",fontSize:"0.9rem",minWidth:"400px"},children:[" ",(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{style:{borderBottom:"1.5px solid #333"},children:[(0,d.jsx)("th",{style:{padding:"8px"},children:"\u80a1\u7968\u540d\u7a31/\u4ee3\u865f"}),(0,d.jsx)("th",{style:{padding:"8px"},children:"\u5e73\u5747\u6210\u672c"}),(0,d.jsx)("th",{style:{padding:"8px"},children:"\u6de8\u6301\u5009 (\u80a1)"}),(0,d.jsx)("th",{style:{padding:"8px"},children:"\u5df2\u5be6\u73fe\u640d\u76ca"})]})}),(0,d.jsx)("tbody",{children:0===i.length?(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:"4",style:{padding:"10px",textAlign:"center"},children:"\u7121\u6578\u64da"})}):i.map(e=>{const t=0!==e.netQuantity?e.avgCost:0;return(0,d.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,d.jsxs)("td",{style:{padding:"8px",fontWeight:"bold"},children:[e.name," (",e.code,")"]}),(0,d.jsx)("td",{style:{padding:"8px"},children:y(t)}),(0,d.jsx)("td",{style:{padding:"8px",color:e.netQuantity>0?"green":e.netQuantity<0?"red":"inherit"},children:g(e.netQuantity)}),(0,d.jsx)("td",{style:{padding:"8px",color:p(e.realizedPnl)},children:f(e.realizedPnl)})]},e.code)})})]})]})]})})(),(()=>{const t=N,n={padding:"5px 10px",backgroundColor:"white",color:"var(--ifm-color-primary)",border:"1px solid var(--ifm-color-primary)",cursor:"pointer",borderRadius:"3px"},i={...n,color:"red",borderColor:"red",marginLeft:"10px"},o={...n,marginRight:"7px",color:"green",borderColor:"green"};return(0,d.jsxs)("div",{style:{marginTop:"30px",border:`1px solid ${c}`,borderRadius:"5px",padding:"15px"},children:[(0,d.jsxs)("div",{className:"responsive-filter-row",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,d.jsxs)("h3",{children:["\u6b77\u53f2\u4ea4\u6613\u8a18\u9304 (",t.length," \u7b46)"]}),(0,d.jsxs)("div",{className:"responsive-filter-row-controls",style:{display:"flex",gap:"10px"},children:[(0,d.jsx)("input",{type:"text",placeholder:"\u641c\u5c0b\u80a1\u7968\u4ee3\u865f/\u540d\u7a31",value:v,onChange:e=>w(e.target.value),style:{padding:"8px",border:"1px solid #ccc",minWidth:"150px"}}),(0,d.jsxs)("select",{value:h,onChange:e=>j(e.target.value),style:{padding:"8px",border:"1px solid #ccc"},children:[(0,d.jsx)("option",{value:"ALL",children:"\u5168\u90e8\u6642\u9593"}),(0,d.jsx)("option",{value:"WEEK",children:"\u7576\u9031"}),(0,d.jsx)("option",{value:"MONTH",children:"\u7576\u6708"}),(0,d.jsx)("option",{value:"HALFYEAR",children:"\u8fd1\u534a\u5e74"}),(0,d.jsx)("option",{value:"YEAR",children:"\u8fd1\u4e00\u5e74"})]})]})]}),0===t.length?(0,d.jsx)("p",{children:"\u5728\u9078\u5b9a\u7684\u7be9\u9078\u689d\u4ef6\u4e0b\u6c92\u6709\u4ea4\u6613\u8a18\u9304\u3002"}):(0,d.jsx)("ul",{style:{listStyleType:"none",padding:0},children:t.map(t=>(0,d.jsxs)("li",{style:{border:"1px solid #ccc",padding:"10px",marginBottom:"10px",borderRadius:"5px"},children:[(0,d.jsxs)("div",{className:"history-list-item-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,d.jsxs)("div",{className:"history-details",children:[(0,d.jsxs)("strong",{children:["[",t.date,"] ",t.name," (",t.code,")"]}),(0,d.jsx)("span",{className:"trade-separator",children:" | "})," ",(0,d.jsxs)("span",{className:"trade-action",children:[(0,d.jsx)("span",{style:{color:"BUY"===t.direction?"green":"red",fontWeight:"bold"},children:t.direction}),":",g(t.quantity)," \u80a1 @ ",y(t.price)]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("button",{onClick:()=>(e=>{r({...e,quantity:String(e.quantity),price:String(e.price)}),l(e.id)})(t),style:o,children:"\u7de8\u8f2f"}),(0,d.jsx)("button",{onClick:()=>(t=>{if(window.confirm("\u78ba\u5b9a\u8981\u522a\u9664\u9019\u7b46\u4ea4\u6613\u8a18\u9304\u55ce\uff1f")){const n=e.filter(e=>e.id!==t);C(n)}})(t.id),style:i,children:"\u522a\u9664"})]})]}),(0,d.jsxs)("p",{style:{marginTop:"5px",marginBottom:0,paddingLeft:"10px",borderLeft:"3px solid #ccc",fontSize:"0.9em"},children:["\u4ea4\u6613\u7406\u7531: ",t.reason||"\u7121\u5099\u8a3b"]})]},t.id))})]})})()]})}},4031:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});n(6540);var i=n(8478),o=n(4848);function r(){return(0,o.jsx)(i.A,{fallback:(0,o.jsx)("div",{children:"\u8f09\u5165\u500b\u4eba\u4ea4\u6613\u65e5\u8a8c\u4e2d..."}),children:()=>{const e=n(3260).A;return(0,o.jsx)(e,{})}})}}}]);